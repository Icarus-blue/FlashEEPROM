<?php

namespace App\Scripts;

class Toyota_Avanza_Fujitsu_MB91F06X extends Script
{
    public function getResult()
    {

      $hex = $this->getByteForPosition('70', 5) . $this->getByteForPosition('70', 6). $this->getByteForPosition('70', 7);;
      $number = ($hex);
       
        return [
         'result' => (($number)),
            'image' => 'assets/Toyota.png',
            'texts' => [
                'nombre1',
                'nombre2',
                'nombre3'
            ],
            'list' => [
                1000,
                4254,
                10000,
                15000,
                24555,
                35500,
                47852,
                50244,
                78525,
                90400,
                98500,
                100050,
                125000,
                145200,
                160552,
                190000
            ],
            'fileprefix' => 'Flasheeprom '
        ];
    }
    
    public function calculate(int $value)
    {
        switch ($value) {
            case 1000:
                $map = [
                    '03' => '06B7',
                    '02' => '06B6',
                    '04' => '06B8',
                    '0A' => '06BE',
                    '09' => '06BD',
                    '08' => '06BC',
                    '0E' => '06C2',
                    '0F' => '06C3',
                    '10' => '06C4',
                ];
                
                   $map2 = [
                        '03' => '001000',
                    '02' => '001000',
                    '04' => '001000',
                    '0A' => '001000',
                    '09' => '001000',
                    '08' => '001000',
                    '0E' => '001000',
                    '0F' => '001000',
                    '10' => '001000',
                   
                ];
                
                   $map3 = [
                    '03' => 'FFFFFFFF', '02' => 'FFFFFFFF',  '04' => 'FFFFFFFF',  '0A' => 'FFFFFFFF', '09' => 'FFFFFFFF',  '08' => 'FFFFFFFF',
                    '0E' => 'FFFFFFFF',    '0F' => 'FFFFFFFF',  '10' => 'FFFFFFFF',
                ];
                
                $map45 = [
                            '03' => '11001100',
                            '02' => '11001100',
                            '04' => '11001100',
                            '0A' => '11001100',
                            '09' => '11001100',
                            '08' => '11001100',
                            '0E' => '11001100',
                            '0F' => '11001100',
                            '10' => '11001100',
                           
                        ];
                break;
            case 4254:
                 $map = [
                    '03' => '073D',
                    '02' => '073C',
                    '04' => '073E',
                    '0A' => '0744',
                    '09' => '0743',
                    '08' => '0742',
                    '0E' => '0748',
                    '0F' => '0749',
                    '10' => '074A',
                ];
                
                   $map2 = [
                    '03' => '004254',
                    '02' => '004254',
                    '04' => '004254',
                    '0A' => '004254',
                    '09' => '004254',
                    '08' => '004254',
                    '0E' => '004254',
                    '0F' => '004254',
                    '10' => '004254',
                   
                ];
                
                   $map3 = [
                    '03' => 'FFFFFFFF',
                    '02' => 'FFFFFFFF',
                    '04' => 'FFFFFFFF',
                    '0A' => 'FFFFFFFF',
                    '09' => 'FFFFFFFF',
                    '08' => 'FFFFFFFF',
                    '0E' => 'FFFFFFFF',
                    '0F' => 'FFFFFFFF',
                    '10' => 'FFFFFFFF',
                ];
                $map45 = [
                            '03' => '11001100',
                            '02' => '11001100',
                            '04' => '11001100',
                            '0A' => '11001100',
                            '09' => '11001100',
                            '08' => '11001100',
                            '0E' => '11001100',
                            '0F' => '11001100',
                            '10' => '11001100',
                           
                        ];
                break;
            case 10000:
                $map = [
                    '03' => '06A8',
                    '02' => '06A7',
                    '04' => '06A9',
                    '0A' => '06AF',
                    '09' => '06AE',
                    '08' => '06AD',
                    '0E' => '06B3',
                    '0F' => '06B4',
                    '10' => '06B5',
                ];
                
                   $map2 = [
                  '03' => '010000',
                    '02' => '010000',
                    '04' => '010000',
                    '0A' => '010000',
                    '09' => '010000',
                    '08' => '010000',
                    '0E' => '010000',
                    '0F' => '010000',
                    '10' => '010000',
                   
                ];
                
                   $map3 = [
                    '03' => 'FFFFFFFF',   '02' => 'FFFFFFFF', '04' => 'FFFFFFFF', '0A' => 'FFFFFFFF','09' => 'FFFFFFFF', '08' => 'FFFFFFFF', '0E' => 'FFFFFFFF',
                    '0F' => 'FFFFFFFF', '10' => 'FFFFFFFF',
                ];
                $map45 = [
                            '03' => '11001100',
                            '02' => '11001100',
                            '04' => '11001100',
                            '0A' => '11001100',
                            '09' => '11001100',
                            '08' => '11001100',
                            '0E' => '11001100',
                            '0F' => '11001100',
                            '10' => '11001100',
                           
                        ];
                break;

                case 10000:
                    $map = [
                        '03' => '06F8',
                        '02' => '06F7',
                        '04' => '06F9',
                        '0A' => '06FF',
                        '09' => '06FE',
                        '08' => '06FD',
                        '0E' => '0703',
                        '0F' => '0704',
                        '10' => '0705',
                    ];
                    
                       $map2 = [
                            '03' => '010000',
                        '02' => '015000',
                        '04' => '015000',
                        '0A' => '015000',
                        '09' => '015000',
                        '08' => '015000',
                        '0E' => '015000',
                        '0F' => '015000',
                        '10' => '015000',
                       
                    ];
                    
                       $map3 = [
                        '03' => 'FFFFFFFF',   '02' => 'FFFFFFFF', '04' => 'FFFFFFFF', '0A' => 'FFFFFFFF','09' => 'FFFFFFFF', '08' => 'FFFFFFFF', '0E' => 'FFFFFFFF',
                        '0F' => 'FFFFFFFF', '10' => 'FFFFFFFF',
                    ];
                    $map45 = [
                            '03' => '11001100',
                            '02' => '11001100',
                            '04' => '11001100',
                            '0A' => '11001100',
                            '09' => '11001100',
                            '08' => '11001100',
                            '0E' => '11001100',
                            '0F' => '11001100',
                            '10' => '11001100',
                           
                        ];
                    break;
    
      
                    case 24555:
                        $map = [
                            '03' => '0743',
                            '02' => '0742',
                            '04' => '0744',
                            '0A' => '074A',
                            '09' => '0749',
                            '08' => '0748',
                            '0E' => '074E',
                            '0F' => '074F',
                            '10' => '0750',
                        ];
                        
                           $map2 = [
                             '03' => '024555',
                            '02' => '024555',
                            '04' => '024555',
                            '0A' => '024555',
                            '09' => '024555',
                            '08' => '024555',
                            '0E' => '024555',
                            '0F' => '024555',
                            '10' => '024555',
                           
                        ];
                        
                           $map3 = [
                            '03' => 'FFFFFFFF',   '02' => 'FFFFFFFF', '04' => 'FFFFFFFF', '0A' => 'FFFFFFFF','09' => 'FFFFFFFF', '08' => 'FFFFFFFF', '0E' => 'FFFFFFFF',
                            '0F' => 'FFFFFFFF', '10' => 'FFFFFFFF',
                            
                        ];
                        
                         $map45 = [
                            '03' => '11001100',
                            '02' => '11001100',
                            '04' => '11001100',
                            '0A' => '11001100',
                            '09' => '11001100',
                            '08' => '11001100',
                            '0E' => '11001100',
                            '0F' => '11001100',
                            '10' => '11001100',
                           
                        ];
                        break;

                        case 35500:
                            $map = [
                                '03' => '06FF',
                                '02' => '06FE',
                                '04' => '0700',
                                '0A' => '0706',
                                '09' => '0705',
                                '08' => '0704',
                                '0E' => '070A',
                                '0F' => '070B',
                                '10' => '070C',
                            ];
                            
                               $map2 = [
                                '03' => '035500',
                                '02' => '035500',
                                '04' => '035500',
                                '0A' => '035500',
                                '09' => '035500',
                                '08' => '035500',
                                '0E' => '035500',
                                '0F' => '035500',
                                '10' => '035500',
                               
                            ];
                            
                               $map3 = [
                                '03' => 'FFFFFFFF',   '02' => 'FFFFFFFF', '04' => 'FFFFFFFF', '0A' => 'FFFFFFFF','09' => 'FFFFFFFF', '08' => 'FFFFFFFF', '0E' => 'FFFFFFFF',
                                '0F' => 'FFFFFFFF', '10' => 'FFFFFFFF',
                            ];
                            $map45 = [
                            '03' => '11001100',
                            '02' => '11001100',
                            '04' => '11001100',
                            '0A' => '11001100',
                            '09' => '11001100',
                            '08' => '11001100',
                            '0E' => '11001100',
                            '0F' => '11001100',
                            '10' => '11001100',
                           
                        ];
                            break;

                            
                        case 47852:
                            $map = [
                                '03' => '0775',
                                '02' => '0774',
                                '04' => '0776',
                                '0A' => '077C',
                                '09' => '077B',
                                '08' => '077A',
                                '0E' => '0780',
                                '0F' => '0781',
                                '10' => '0782',
                            ];
                            
                               $map2 = [
                                '03' => '047852',
                                '02' => '047852',
                                '04' => '047852',
                                '0A' => '047852',
                                '09' => '047852',
                                '08' => '047852',
                                '0E' => '047852',
                                '0F' => '047852',
                                '10' => '047852',
                               
                            ];
                            
                               $map3 = [
                                '03' => 'FFFFFFFF',   '02' => 'FFFFFFFF', '04' => 'FFFFFFFF', '0A' => 'FFFFFFFF','09' => 'FFFFFFFF', '08' => 'FFFFFFFF', '0E' => 'FFFFFFFF',
                                '0F' => 'FFFFFFFF', '10' => 'FFFFFFFF',
                            ];
                            $map45 = [
                            '03' => '11001100',
                            '02' => '11001100',
                            '04' => '11001100',
                            '0A' => '11001100',
                            '09' => '11001100',
                            '08' => '11001100',
                            '0E' => '11001100',
                            '0F' => '11001100',
                            '10' => '11001100',
                           
                        ];
                            break;

                            case 50244:
                                $map = [
                                    '03' => '06F2',
                                    '02' => '06F1',
                                    '04' => '06F3',
                                    '0A' => '06F9',
                                    '09' => '06F8',
                                    '08' => '06F7',
                                    '0E' => '06FD',
                                    '0F' => '06FE',
                                    '10' => '06FF',
                                ];
                                
                                   $map2 = [
                                    '03' => '050244',
                                    '02' => '050244',
                                    '04' => '050244',
                                    '0A' => '050244',
                                    '09' => '050244',
                                    '08' => '050244',
                                    '0E' => '050244',
                                    '0F' => '050244',
                                    '10' => '050244',
                                   
                                ];
                                
                                   $map3 = [
                                    '03' => 'FFFFFFFF',   '02' => 'FFFFFFFF', '04' => 'FFFFFFFF', '0A' => 'FFFFFFFF','09' => 'FFFFFFFF', '08' => 'FFFFFFFF', '0E' => 'FFFFFFFF',
                                    '0F' => 'FFFFFFFF', '10' => 'FFFFFFFF',
                                ];
                                $map45 = [
                            '03' => '11001100',
                            '02' => '11001100',
                            '04' => '11001100',
                            '0A' => '11001100',
                            '09' => '11001100',
                            '08' => '11001100',
                            '0E' => '11001100',
                            '0F' => '11001100',
                            '10' => '11001100',
                           
                        ];
                                break;
                
                                case 78525:
                                    $map = [
                                        '03' => '0758',
                                        '02' => '0757',
                                        '04' => '0759',
                                        '0A' => '075F',
                                        '09' => '075E',
                                        '08' => '075D',
                                        '0E' => '0763',
                                        '0F' => '0764',
                                        '10' => '0765',
                                    ];
                                    
                                       $map2 = [
                                        '03' => '078525',
                                        '02' => '078525',
                                        '04' => '078525',
                                        '0A' => '078525',
                                        '09' => '078525',
                                        '08' => '078525',
                                        '0E' => '078525',
                                        '0F' => '078525',
                                        '10' => '078525',
                                       
                                    ];
                                    
                                       $map3 = [
                                        '03' => 'FFFFFFFF',   '02' => 'FFFFFFFF', '04' => 'FFFFFFFF', '0A' => 'FFFFFFFF','09' => 'FFFFFFFF', '08' => 'FFFFFFFF', '0E' => 'FFFFFFFF',
                                        '0F' => 'FFFFFFFF', '10' => 'FFFFFFFF',
                                    ];
                                    $map45 = [
                            '03' => '11001100',
                            '02' => '11001100',
                            '04' => '11001100',
                            '0A' => '11001100',
                            '09' => '11001100',
                            '08' => '11001100',
                            '0E' => '11001100',
                            '0F' => '11001100',
                            '10' => '11001100',
                           
                        ];
                                    break;   
            
                                    case 90400:
                                        $map = [
                                            '03' => '06B4',
                                            '02' => '06B3',
                                            '04' => '06B5',
                                            '0A' => '06BB',
                                            '09' => '06BA',
                                            '08' => '06B9',
                                            '0E' => '06BF',
                                            '0F' => '06C0',
                                            '10' => '06C1',
                                        ];
                                        
                                           $map2 = [
                                            '03' => '090400',
                                            '02' => '090400',
                                            '04' => '090400',
                                            '0A' => '090400',
                                            '09' => '090400',
                                            '08' => '090400',
                                            '0E' => '090400',
                                            '0F' => '090400',
                                            '10' => '090400',
                                           
                                        ];
                                        
                                           $map3 = [
                                            '03' => 'FFFFFFFF',   '02' => 'FFFFFFFF', '04' => 'FFFFFFFF', '0A' => 'FFFFFFFF','09' => 'FFFFFFFF', '08' => 'FFFFFFFF', '0E' => 'FFFFFFFF',
                                            '0F' => 'FFFFFFFF', '10' => 'FFFFFFFF',
                                        ];
                                        
                                        $map45 = [
                            '03' => '11001100',
                            '02' => '11001100',
                            '04' => '11001100',
                            '0A' => '11001100',
                            '09' => '11001100',
                            '08' => '11001100',
                            '0E' => '11001100',
                            '0F' => '11001100',
                            '10' => '11001100',
                           
                        ];
                                        break;

                                    case 98500:
                                        $map = [
                                            '03' => '0735',
                                            '02' => '0734',
                                            '04' => '0736',
                                            '0A' => '073C',
                                            '09' => '073B',
                                            '08' => '073A',
                                            '0E' => '0740',
                                            '0F' => '0741',
                                            '10' => '0742',
                                        ];
                                        
                                           $map2 = [
                                            '03' => '098500',
                                            '02' => '098500',
                                            '04' => '098500',
                                            '0A' => '098500',
                                            '09' => '098500',
                                            '08' => '098500',
                                            '0E' => '098500',
                                            '0F' => '098500',
                                            '10' => '098500',
                                           
                                        ];
                                        
                                           $map3 = [
                                            '03' => 'FFFFFFFF',   '02' => 'FFFFFFFF', '04' => 'FFFFFFFF', '0A' => 'FFFFFFFF','09' => 'FFFFFFFF', '08' => 'FFFFFFFF', '0E' => 'FFFFFFFF',
                                            '0F' => 'FFFFFFFF', '10' => 'FFFFFFFF',
                                        ];
                                        $map45 = [
                            '03' => '11001100',
                            '02' => '11001100',
                            '04' => '11001100',
                            '0A' => '11001100',
                            '09' => '11001100',
                            '08' => '11001100',
                            '0E' => '11001100',
                            '0F' => '11001100',
                            '10' => '11001100',
                           
                        ];
                                        break;  
                                        
                                        case 100050:
                                            $map = [
                                                '03' => '0707',
                                                '02' => '0706',
                                                '04' => '0708',
                                                '0A' => '070E',
                                                '09' => '070D',
                                                '08' => '070C',
                                                '0E' => '0712',
                                                '0F' => '0713',
                                                '10' => '0714',
                                            ];
                                            
                                               $map2 = [
                                                '03' => '100050',
                                                '02' => '100050',
                                                '04' => '100050',
                                                '0A' => '100050',
                                                '09' => '100050',
                                                '08' => '100050',
                                                '0E' => '100050',
                                                '0F' => '100050',
                                                '10' => '100050',
                                               
                                            ];
                                            
                                               $map3 = [
                                                '03' => 'FFFFFFFF',   '02' => 'FFFFFFFF', '04' => 'FFFFFFFF', '0A' => 'FFFFFFFF','09' => 'FFFFFFFF', '08' => 'FFFFFFFF', '0E' => 'FFFFFFFF',
                                                '0F' => 'FFFFFFFF', '10' => 'FFFFFFFF',
                                            ];
                                            break;
                                            
                                            $map45 = [
                            '03' => '11001100',
                            '02' => '11001100',
                            '04' => '11001100',
                            '0A' => '11001100',
                            '09' => '11001100',
                            '08' => '11001100',
                            '0E' => '11001100',
                            '0F' => '11001100',
                            '10' => '11001100',
                           
                        ];
                                        case 125000:
                                            $map = [
                                                '03' => '0709',
                                                '02' => '0708',
                                                '04' => '070A',
                                                '0A' => '0710',
                                                '09' => '070F',
                                                '08' => '070E',
                                                '0E' => '0714',
                                                '0F' => '0715',
                                                '10' => '0716',
                                            ];
                                            
                                               $map2 = [
                                                '03' => '125000',
                                                '02' => '125000',
                                                '04' => '125000',
                                                '0A' => '125000',
                                                '09' => '125000',
                                                '08' => '125000',
                                                '0E' => '125000',
                                                '0F' => '125000',
                                                '10' => '125000',
                                               
                                            ];
                                            
                                               $map3 = [
                                                '03' => 'FFFFFFFF',   '02' => 'FFFFFFFF', '04' => 'FFFFFFFF', '0A' => 'FFFFFFFF','09' => 'FFFFFFFF', '08' => 'FFFFFFFF', '0E' => 'FFFFFFFF',
                                                '0F' => 'FFFFFFFF', '10' => 'FFFFFFFF',
                                            ];
                                            
                                            $map45 = [
                            '03' => '11001100',
                            '02' => '11001100',
                            '04' => '11001100',
                            '0A' => '11001100',
                            '09' => '11001100',
                            '08' => '11001100',
                            '0E' => '11001100',
                            '0F' => '11001100',
                            '10' => '11001100',
                           
                        ];
                                            break;   
                                            
                                            case 145200:
                                                $map = [
                                                    '03' => '070D',
                                                    '02' => '070C',
                                                    '04' => '070E',
                                                    '0A' => '0714',
                                                    '09' => '0713',
                                                    '08' => '0712',
                                                    '0E' => '0718',
                                                    '0F' => '0719',
                                                    '10' => '071A',
                                                ];
                                                
                                                   $map2 = [
                                                    '03' => '145200',
                                                    '02' => '145200',
                                                    '04' => '145200',
                                                    '0A' => '145200',
                                                    '09' => '145200',
                                                    '08' => '145200',
                                                    '0E' => '145200',
                                                    '0F' => '145200',
                                                    '10' => '145200',
                                                   
                                                ];
                                                
                                                   $map3 = [
                                                    '03' => 'FFFFFFFF',   '02' => 'FFFFFFFF', '04' => 'FFFFFFFF', '0A' => 'FFFFFFFF','09' => 'FFFFFFFF', '08' => 'FFFFFFFF', '0E' => 'FFFFFFFF',
                                                    '0F' => 'FFFFFFFF', '10' => 'FFFFFFFF',
                                                ];
                                                $map45 = [
                            '03' => '11001100',
                            '02' => '11001100',
                            '04' => '11001100',
                            '0A' => '11001100',
                            '09' => '11001100',
                            '08' => '11001100',
                            '0E' => '11001100',
                            '0F' => '11001100',
                            '10' => '11001100',
                           
                        ];
                                                break;   

                                                case 160552:
                                                    $map = [
                                                        '03' => '0714',
                                                        '02' => '0713',
                                                        '04' => '0715',
                                                        '0A' => '071B',
                                                        '09' => '071A',
                                                        '08' => '0719',
                                                        '0E' => '071F',
                                                        '0F' => '0720',
                                                        '10' => '0721',
                                                    ];
                                                    
                                                       $map2 = [
                                                        '03' => '160552',
                                                        '02' => '160552',
                                                        '04' => '160552',
                                                        '0A' => '160552',
                                                        '09' => '160552',
                                                        '08' => '160552',
                                                        '0E' => '160552',
                                                        '0F' => '160552',
                                                        '10' => '160552',
                                                       
                                                    ];
                                                    
                                                       $map3 = [
                                           '03' => 'FFFFFFFF',   '02' =>  'FFFFFFFF', '04' => 'FFFFFFFF', '0A' => 'FFFFFFFF','09' => 'FFFFFFFF', '08' => 'FFFFFFFF', '0E' => 'FFFFFFFF',
                                                        '0F' => 'FFFFFFFF', '10' => 'FFFFFFFF',
                                                    ];
                                                    
                                                    $map45 = [
                            '03' => '11001100',
                            '02' => '11001100',
                            '04' => '11001100',
                            '0A' => '11001100',
                            '09' => '11001100',
                            '08' => '11001100',
                            '0E' => '11001100',
                            '0F' => '11001100',
                            '10' => '11001100',
                           
                        ];
                                                    break;   

                                                    
                                                case 190000:
                                                    $map = [
                                                        '03' => '06C0',
                                                        '02' => '06BF',
                                                        '04' => '06C1',
                                                        '0A' => '06C7',
                                                        '09' => '06C6',
                                                        '08' => '06C5',
                                                        '0E' => '06CB',
                                                        '0F' => '06CC',
                                                        '10' => '06CD',
                                                    ];
                                                    
                                                       $map2 = [
                                                        '03' => '190000',
                                                        '02' => '190000',
                                                        '04' => '190000',
                                                        '0A' => '190000',
                                                        '09' => '190000',
                                                        '08' => '190000',
                                                        '0E' => '190000',
                                                        '0F' => '190000',
                                                        '10' => '190000',
                                                       
                                                    ];
                                                    
                                                       $map3 = [
                                                        '03' => 'FFFFFFFF',   '02' => 'FFFFFFFF', '04' => 'FFFFFFFF', '0A' => 'FFFFFFFF','09' => 'FFFFFFFF', '08' => 'FFFFFFFF', '0E' => 'FFFFFFFF',
                                                        '0F' => 'FFFFFFFF', '10' => 'FFFFFFFF',
                                                    ];
                                                    
                                                    $map45 = [
                            '03' => '11001100',
                            '02' => '11001100',
                            '04' => '11001100',
                            '0A' => '11001100',
                            '09' => '11001100',
                            '08' => '11001100',
                            '0E' => '11001100',
                            '0F' => '11001100',
                            '10' => '11001100',
                           
                        ];
                                                    break; 
        

            default:
                return null;
        }
        
        
        $rows = $this->getNumberOfRows();
        $result = [];
        for ($i = 0; $i < 1024; $i++) {
            $row = dechex($i * 16);
            $byte = $this->getByteForPosition($row, 1);
            if (isset($map[$byte])) {
                $result[] = ['row' => $row, 'cell' => 2, 'value' => $map[$byte]];
            }
        }   
         for ($i = 0; $i < 1024; $i++) {
            $row = dechex($i * 16);
            $byte = $this->getByteForPosition($row, 1);
            if (isset($map2[$byte])) {
                $result[] = ['row' => $row, 'cell' => 5, 'value' => $map2[$byte]];
            }    
             
        }
         for ($i = 0; $i < 512; $i++) {
            $row = dechex($i * 16);
            $byte = $this->getByteForPosition($row, 1);
            if (isset($map3[$byte])) {
                $result[] = ['row' => $row, 'cell' => 12, 'value' => $map3[$byte]];
            }  
        }
        
          for ($i = 523; $i < 535; $i++) {
            $row = dechex($i * 16);
            $byte = $this->getByteForPosition($row, 1);
            if (isset($map3[$byte])) {
                $result[] = ['row' => $row, 'cell' => 12, 'value' => $map3[$byte]];
            }  
        }
        
        $complemento = 11001100 ; 
        for ($i = 966; $i < 996; $i++) {
            $row = dechex($i * 16);
            $byte = $this->getByteForPosition($row, 1);
            if (isset($map3[$byte])) {
                $result[] = ['row' => $row, 'cell' => 12, 'value' => $map45[$byte]];
            }  
        }
        
            for ($i = 996; $i < 1024; $i++) {
            $row = dechex($i * 16);
            $byte = $this->getByteForPosition($row, 1);
            if (isset($map3[$byte])) {
                $result[] = ['row' => $row, 'cell' => 12, 'value' => $map3[$byte]];
            }  
        }
        
        return $result;
    }
}
